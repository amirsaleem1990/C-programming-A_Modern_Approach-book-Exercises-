538

Section 21 .2

Chapter 21

@ 7.

The Standard Library

(c) What's the advantage of using an array to implement thesc macros”

#define _UPPER 0x01 /* upper-case letter */
#define _LOWER 0x02 /* lower-case letter */
#define _DIGIT Ox04 /* decimal digit */
#define _CONTROL 0Ox08 /* control character */
#define _PUNCT Ox10 /* punctuation character */
#define _SPACE 0Ox20 /* white-space character */
#define _HEX Ox40 /* hexadecimal digit */
#define _BLANK Ox80 /* space character */
fdefine isalnum(c) (_ctype[c] & (_UPPER| LOWER| DIGIT))
}Hdefine isalpha(c) ( ctype[c] & ( UPPER| LOWER))
#define iscntrl(c) ( ctype[c] & _CONTROL)
#define isdigit(c) (_ctype[c] & _ DIGIT)
#define isgraph(c) ( ctype(c] &

(_PUNCT|_UPPER| LOWER| DIGIT))
idefine islower(c) (_ctype[c] & _LOWER)
Hdefine isprint(c) ( ctyvpe[c] &

(_BLANK| _ PUNCT| UPPER| LOWER| DIGIT))
#define ispunct (c) (_ctype[c] & _PUNCT)
#define isspace(c) (_ctype[c] & _SPACE)
#define isupper(c) ( ctype[c]) & _UPPER)
}Hdefine isxdigit (c) (_ctype[c] & ( DIGIT| HEX))

In which standard header would you expect to find each of the following?

(a) À function that determines the current day of the week

(b) À function that tests whether a character is a digit

(c) À macro that gives the largest unsigned int value

(d) À function that rounds à floating-point number to the next higher integer
(e) À macro that specifies the number of bits in a character

(f) À macro that specifies the number of significant digits in a double value
(g) À function that searches à string for a particular character

(h) A function that opens a file for reading

Programming Projects

Write a program that declares the s structure (see Section 21.4) and prints the sizes and off-
sets of the a, b, and c members. (Use sizeof to find sizes:; use of f setof to find off-
sets.) Have the program print the size of the entire structure as well. From this information,
determine whether or not the structure has any holes. If it docs, describe the location and
size of each.
