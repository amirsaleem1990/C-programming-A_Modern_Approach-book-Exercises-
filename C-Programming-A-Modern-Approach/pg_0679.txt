654

Chapter 25

wcestombs

25.3

Table 25.8
Trigraph Sequences

International Features

The wcstombs function is the opposite of mbstowcs: it converts a
scquence of wide characters into multibyte characters. The second argument points
to the wide-character string. The first argument points to the array in which the
multibyte characters are to be stored. The third argument limits the number of
bytes that can be stored in the array. westombs stops when it reaches the limit or
encounters a null character (which it stores). It returns the number of bytes stored.
not including the terminating null character, if any. westombs returns —! (cast to
lype size_t) if it encounters a wide character that doesn’t correspond to any
multibyte character.

The mbstowcs function assumes that the string to be converted begins in the
initial shift state. The string created by wostombs always begins in the initial
shift state.

Digraphs and Trigraphs

Programmers in certain countries have traditionally had trouble entering C pro-
grams because their keyboards lacked some of the characters that are required by C.
This has been especially true in Europe, where older keyboards provided the accent-
ed characters used in European languages in place of the characters that C needs,
such as #, [, \. J. . {, |. }. and -. C89 introduced trigraphs—three-character
codes that represent problematic characters—as a solution to this problem. Tri-
graphs proved to be unpopular, however. so Amendment | to the standard added
two improvements: digraphs. which are more readable than trigraphs. and the
<is0646 .h> hcader, which defines macros that represent certain C operators.

 

Trigraphs

À trigraph sequence (or simply, à trigraph) is a three-character code that can be
used as an alternative to an ASCII character. Table 25.8 gives a complete list of tri-
graphs. AIl trigraphs begin with ??. which makes them. if not exactly attractive, at
least easy to spot.

 

 

Trigraph ASCH

Sequence = Equivalent
22= #
22 ( [
??/ \
??) ]
22" ,
22< {
??! |
??> }
22- -

 

 

 
