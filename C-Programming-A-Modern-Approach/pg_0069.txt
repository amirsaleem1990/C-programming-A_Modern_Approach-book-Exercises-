 

44

Chapter 3 Formatted Input/Output

QaA

scanf “peeks” at the final new-line character without actually reading it. This
new-line will be the first character read by the next call of scan£.

What rules does scan£ follow to recognize an integer or a floating-point
number? When asked to read an integer, scanf first searches for a digit, a plus
sign, or a minus sign; it then reads digits until it reaches a nondigit. When asked to
read a floating-point number, scanf looks for

a plus or minus sign (optional). followed by

a series of digits (possibly containing a decimal point), Followed by

an exponent (optional). An exponent consists of the letter e (or E), an optional
sign, and one or more digits.

The %$e, $£, and %g conversions are interchangeable when used with scanf: all
three follow the same rules for recognizing a floating-point number.

When scan£ encounters a character that can’t be part of the current item, the
character is ‘“‘put back” to be read again during the scanning of the next input item
or during the next call of scan£. Consider the following (admittedly pathological)
arrangement of our four numbers:

 
