642 Chaptier 25

25.1

<String.h> header >23.6

<ctype .h> header »23.5

numeric conversion functions > 26.2

str£ftime function »26.3

æ

weosftime function >25.5

International Features

The <locale.h> Header: Localization

The <locale.h> header provides functions to control portions of the C library
whose behavior varies from one locale to another. (A locale is typically a country
or à region in which a particular language 1s spoken.)

Locale-dependent aspects of the library include:

Formatting of numerical quantities. In some locales, for example, the deci-
mal point 1s à period (297.48), while in others it’s a comma (297.48).

Formatting of monetary quantities. For example, the currency symbol varies
from country to country.

Character set. The character set often depends on the language in a particular
locale. Asian countries usually require a much larger character set than West-
ern countries.

Appearance of date and time. In some locales, it’s customary to put the month
first when writing a date (8/24/2012); in others, the day goes first (24/8/2012).

Categories

By changing locale, a program can adapt its behavior to a different area of the
world. But a locale change can affect many parts of the library, some of which we
might prefer not to alter. Fortunately, we’re not required to change all aspects of a
locale at the same time. Instead, we can use one of the following macros to specify
a category:

LC _ COLLATE. Affects the behavior of two string-comparison functions.
strcoll and strx£frm. (Both functions are declared in <string.h>).

LC CTYPE. Affects the behavior of the functions in <ctype.h> (except
isdigit and isxdigit). Also affects the multibyte and wide-character
functions discussed in this chapter.

LC _ MONETARY. Affects the monetary formatting information returned by the
localeconv function.

LC NUMERIC. Affects the decimal-point character used by formatted I/O
functions (like printf and scanf) and the numeric conversion functions
(such as strtod) in <stdlib.h>. Also affects the nonmonetary format-
ting Information returned by localeconv.

LC TIME. Affects the behavior of the strftime function (declared in

<time.h>), which converts a time into a character string. In C99, also
affects the behavior of the wes£ftime function.

Implementations are free to provide additional categories and define LC _ macros
not listed above. For example, most UNIX systems provide an LC MESSAGES
category, which affects the format of affirmative and negative system responses.
