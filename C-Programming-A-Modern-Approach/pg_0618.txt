23.3

<ermno. H> header »24.2

Infinity » 23.4

 

23.3  The <math.h> Header (C89): Mathematics 593

Going a step further, we might use the macros in <limits.h> to help a
program choose how to represent a type. Let’s say that variables of type Quan-
tity must be able to hold integers as large as 100,000. If INT _ MAX 1s at least
100.000, we can define Quantity to be int; otherwise, we’ll need to make 1t
long int:

#if INT MAX >= 100000
typedef int Quantity;
telse

typedef long int Quantity;
#endif

The <math.h> Header (C89): Mathematics

The functions in the C89 version of <math. h> fall into five groups:

Trigonometric functions

Hyperbolic functions

Exponential and logarithmic functions

Power functions

Nearest integer, absolute value, and remainder functions

C99 adds a number of functions to these groups as well as introducing other cate-
gories of math functions. The C99 changes to <math.h> are so extensive that
l’ve chosen to cover them in a separate section that follows this one. That way,
readers who are primarily interested in the C89 version of the header—or who are
using a compiler that doesn’t support C99—won'1 be overwhelmed by all the C99
additions.

Before we delve into the functions provided by <math.h>. let’s take a brief
look at how these functions deal with errors.

Errors

The <math.h> functions handle errors in a way that’s different from other library
functions. When an error occurs, most <math.h> functions store an error code in
à special variable named errno (declared in the <errno.h> header). In addi-
tion, when the return value of a function would be larger than the largest double
value, the functions in <math. h> return a special value, represented by the macro
HUGE VAL (defined in <math.h>). HUGE VAL is of type double, but it isn’t
necessarily an ordinary number. (The IEEE standard for floating-point arithmetic
defines a value named ““infinity”—a logical choice for HUGE_VAL.)
The functions in <math.h> detect two kinds of errors:

= Domain error: An argument is outside a function’s domain. If a domain error
occurs, the function’s return value is implementation-defined and EDOM
