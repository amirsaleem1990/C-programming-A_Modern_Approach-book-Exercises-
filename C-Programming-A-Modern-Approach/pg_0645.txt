620

strrchr

strpork

strspn
strespn

e F3 1N

strstr

strtok

Chapter 23 _ Library Support for Numbers and Character Data

Like the strchr function, memchr returns a pointer to the first occurrence of the
character. If it can’t find the desired character, memchr returns a null pointer.
strrchr is similar to strchr, but it searches the string in reverse order:

char *p, str[] = "Form follows function. ";

strrchr(str, 'f'),; /* finds last '£' */

p=

In this example, strrchr will first search for the null character at the end of the
string, then go backwards to locate the letter £ (the one in function). Like
strchr and memchr, strrchr returns a null pointer if it fails to find the

desired character.
strpbrk is more general than strchr; it returns a pointer to the leftmost
character in the first argument that matches any character in the second argument:

char *p, str[] = "Form follows function. ";

p = strpbrk(str, "mn") ; /* finds first 'm' or 'n' */

In this example, p will point to the letter m in Form. strpbrk returns a null
pointer 1f no match is found.

The strspn and strespn functions, unlike the other search functions,
return an integer (of type size_t), representing a position within a string. When
given a string to search and a set of characters to look for, strspn returns the
index of the first character that's nor in the set. When passed similar arguments.
strcespn returns the index of the first character that’s in the set. Here are exam-
ples of both functions:

size t n;

char str([] = "Form follows function. ";

n = strspn(str, "morF") ; /* n=4r/
n = strspn(str, " \t\n") ; /* n 0 */
n = strospn(str, "morF") ; /* n O */
n = strespn(str, " \t\n") ; /*n =4r/

strstr searches its first argument (a string) for a match with its second
argument (also a string). In the following example, strstr searches for the word
fun:

char *p, str[] = "Form follows function.";

strstr(str, "fun") ; /* locates "fun" in str */

p:

strstr returns a pointer to the first occurrence of the search string; it returns a
null pointer if it can°t locate the string. After the call above, p will point to the let-
ter £ in function.

strtok is the most complicated of the search functions. Tts designed to
search a string for a ‘“‘token’”—a sequence of characters that doesn°t include certain
delimiting characters. The call strtok(s1, s2) scans the s1 string for a non-
empty sequence of characters that are not in the s2 string. strtok marks the end
