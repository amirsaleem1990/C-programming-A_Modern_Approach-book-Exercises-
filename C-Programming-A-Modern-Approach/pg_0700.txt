Section 25.1

Section 25.2

2.

 

Exercises 675

read multibyte characters, convert them to wide characters for manipulation
within the program, and then convert the wide characters back to multibyte form
for output.

Unicode and UCS seem to be pretty much the same. What’s the difference
between the two’ [p. 650]

Both contain the same characters, and characters are represented by the same code
points in both. Unicode is more than just a character set. though. For example, Uni-
code supports “bidirectional display order ” Some languages, including Arabic and
Hebrew, allow text to be written from right to left instead of left to right. Unicode
is capable of specifying the display order of characters, allowing text to contain
some characters that are to be displayed from left to right along with others that go
from right to left.

Exercises

Determine which locales are supported by your compiler.

The Shift-JIS encoding for kanji requires either one or two bytes per character. If the first
byte of a character is between Ox81 and OxS9f or between Oxe0 and Oxef, a second byte
is required. (Any other byte is treated as a whole character.) The second byte must be
between Ox40 and Ox7e or between Ox80 and Oxfc. (AII ranges are inclusive.) For each
of the following strings. give the value that the mbcheck function of Section 25.2 will
return when passed that string as its argument, assuming that multibyte characters are
encoded using Shift-JIS in the current locale.

(a) "\x05\x87\x8B0\x36\xed\xaa "
(b) "\x20\xe4\x50\x88\x3 E "

(c) "\xde\xad\xbe\xef "

(d) "\x8a\x60\x92\x74\x41"

One of the useful properties of UTF-8 is that no sequence of bytes within a multibyte char-
acter can possibly represent another valid multibyte character. Does the Shift-JIS encoding
for kanji (discussed in Exercise 2) have this property?

Give à C string literal that represents each of the following phrases. Assume that the charac-
ters à, è, é, Ë, Î, 6. Ü, and ü are represented by single-byte Latin-! characters. (You*Il need to
look up the Latin-1 code points for these characters.) For example, the phrase déjà vu could
be represented by the string "d\xe9j\xe0 vu".

(a) Côte d'Azur

(b) crème brûlée

(c) crème fraîche

(d) Fahrvergniigen

(e) rête-à-tête

Repeat Exercise 4, this time using the UTF-8 multibyte encoding. For example. the phrase
déjà vu could be represented by the string "d\\xc3 \xa9j\xc3\xa0 vu".
