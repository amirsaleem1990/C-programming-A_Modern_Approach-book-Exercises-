 

6

Chapter 1 Introducing C

e 1411

 

 

Obfuscated C

Even C's most ardent admirers admit that C code can be hard to read. The annual
International Obfuscated C Code Contest actually encourages contestants to write
the most confusing C programs possible. The winners are truly baffling, as 1990's
“Best Small Program” shows:

vliljlklllsla[99];
main ()

{

for (scan£ ("%d", &s) ; *a-s; v=a [j*=v] -a [i] ,k=i<s,j+= (v=j<s&&
(!1K&&!!print£ (2+"\n\nsc"-(!1<<!j)," #0" [1°v?(1°j)&1:2] ) &&
++1||a[i])<s&&v&&v-i+j&&v+i-j))&&! (1%=s),v|| (i==j?a [i+=k]=0:
++a [i] )>=s*k&&++a [--a])

}

This program, written by Doron Osovlanski and Baruch Nissenbaum, prints all solu-
tions to the Eight Queens problem (the problem of placing eight queens on a
chessboard in such a way that no queen attacks any other queen). In fact, it works
for any number of queens between four and 99. For more winning programs, visit
www.ioccc.org, the contest's web site.

;

 

 

 

Effective Use of C

Using C effectively requires taking advantage of C’s strengths while avoiding its
weaknesses. Here are a few suggestions:

u Learn how to avoid C pitfalls, Hints for avoiding pitfalls are scattered through-
out this book—just look for the /A symbol. For a more extensive list of pitfalls,
see Andrew Koenig's C Traps and Pitfalls (Reading, Mass.: Addison-Wesley.
1989). Modern compilers will detect common pitfalls and issue warnings. but
no compiler spots them all.

= Use software tools to make programs more reliable. C programmers are pro-
lific tool builders (and users). One of the most famous C tools is named lint.
lint, which is traditionally provided with UNIX, can subject a program to a
more extensive error analysis than most C compilers. If lint (or a similar
program) is available, it’s a good idea to use 1t.\Another useful tool is a debug-
gcr. Because of the nature of C, many bugs can’t be detected by a C compiler:;
these show up instead in the form of run-time errors or incorrect output. Con-
sequently, using a good debugger is practically mandatory for C programmers.

# Take advantage of existing code libraries. One of the benetits of using C 1s
that so many other people also use it; il’s a good bet that they've written code
you can employ in your own programs. C code is often bundled into libraries
(collections of functions); obtaining a suitable library 1s a good way to reduce
errors—and save considerable programming effort. Libraries for common
