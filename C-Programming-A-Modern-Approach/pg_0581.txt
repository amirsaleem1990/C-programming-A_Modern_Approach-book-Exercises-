556

Chapter 22

IEEE floating-point standard >23.4

wide characters » 25.2

Table 22.7

Effect of Flags on
the d Conversion

Input/Output

m Additional conversion specifiers. C99 adds the F, a, and A conversion specifi-

ers. F 1s the same as £ except for the way in which infinity and NaN (see
below) are written. The à and A conversion specificalions are rarely used.
They're related to hexadecimal floating constants, which are discussed in the
Q&A section at the end of Chapter 7.

m Ability to write infinity and NaN. The IEEE 754 floating-point standard

allows the result of a floating-point operation to be infinity, negative infinity.
or NaN (Cnot a number”). For example. dividing !.0 by 0.0 yields positive
infinity. dividing —!.0 by 0.0 yields negative infinity, and dividing 0.0 by 0.0
yields NaN (because the result 1s mathematically undefined). In C99, the a, A,
e, E, £, F, g, and G conversion specifiers arc capable of converting these spe-
cial values to à form that can be displayed. a, e, £. and g convert positive
infinity to in£ or infinity (cither one is legal), negative infinity to -inf
or -infinity, and NaN to nan or -nan (possibly followed by a series of
characters enclosed in parentheses). A, E. F. and G arc equivalent to a. e. £.
and g. except that upper-case letters are used (INF. INFINITY, NAN).

æ Support for wide characters. Another C99 feature is the ability of fprint£f

to write wide characters. The 1c conversion specification is used to write a
single wide character; 31s Is used for a string of wide characters.

Previously undefined conversion specifications now allowed. In C89, the
effect of using le, %1E, S1£, %1g. and 31G is undefined. These conversion
specifications are legal in C99 (the 1 length modifier 1s simply ignored).

FExamples of …print£ Conversion Specifications

Whew! Is about time for à few examples. We've seen plenty of everyday conver-
sion specifications in previous chapters, so we'll concentrate here on illustrating
some of the more advanced ones. Às in previous chapters. Il use ® to represent

the space character.

Let’s start off by examining the effect of flags on the %d conversion (they have
a similar effect on other conversions). The first line of Table 22.7 shows the effect
of 8d without any flags. The next four lines show the effect of the -. +. space,
and O flags (the # flag 1s never used with %d). The remaining lines show the effect

of combinations of flags.

 

 

 

Conversion — Result of Applying = Result of Applying

Specification = Conversion to 123 — Conversion to —123
<8d eoo0o0e123 eooe-123
2-8d 123ec0606 -123000e
*+8d 000123 ceooe-123
% Bd eeoo0e123 ee…oe-123
<08d 00000123 -0000123
s-+8d +1230e000 -123e000
%- B8d 12300080 —-123e00e
=+08d +0000123 -0000123
< 08d e0000123 -0000123

 

 
