upc.c

4.1  Arithmetic Operators 57

Multiply the first sum by 3 and add it to the second sum.
Subtract ! from the total.

Compute the remainder when the adjusted total is divided by 10.
Subtract the remainder from 9.

Using the Stouffer’s example, we getO+3+0+1+1+3-=8 for the first sum and
1+8+0+5+7=21 for the second sum. Multiplying the first sum by 3 and add-
ing the second yields 45. Subtracting ! gives 44. The remainder upon dividing by
1O is 4. When the remainder is subtracted from 9, the result is 5. Here are a couple
of other UPCs, in case you want to try your hand at computing the check digit
(raiding the kitchen cabinet for the answer 1s not allowed):

Jif Creamy Peanut Butter (18 0z.): O 51500 24128 ?
Ocean Spray Jellied Cranberry Sauce (8 0z.): O 31200 01005 ?

The answers appear at the bottom of the page.

Let’s write a program that calculates the check digit for an arbitrary UPC.
We’1l ask the user to enter the first ! ! digits of the UPC, then we'll display the cor-
responding check digit. To avoid confusion, we'll ask the user to enter the number
in three parts: the single digit at the left, the first group of five digits, and the sec-
ond group of five digits. Here’s what a session with the program will look like:

Enter the first (single) digit: O

Enter first group of five digits: 13800
Enter second group of five digits: 15173
Check digait: S

 

Instead of reading each digit group as à five-digit number, we'Il read it as five
one-digit numbers. Reading the numbers as single digits is more convenient; also,
we won°t have to worry that one of the five-digit numbers is too large to store in an
int variable. (Some older compilers limit the maximum value of an int variable
to 32,767.) To read single digits, we’Il use scan£ with the 31d conversion speci-
fication, which matches a one-digit integer.

/* Computes a Universal Product Code check digit */
#include <stdio.h>

int main(void)
int d, il, i2, i3, i4, i5, j1, j2, j3., j4, J5,
first sum, second _ sum, total;

printf ("Enter the first (single) digit: ");

scanf ("%1d", &d) ;

printf ("Enter first group of five digits: ") ;
scanf ("%1d%1d%1d%1d$1d", &il, &i2, &i13, &i4, &i5);
printf ("Enter second group of five digits: ") ;
scanf ("%1d%1d%1d%1d%1d", &j1, &j2, &j3, &j4, &)5);

 

The missing check digits are 8 (Jif) and 6 (Occan Spray).
