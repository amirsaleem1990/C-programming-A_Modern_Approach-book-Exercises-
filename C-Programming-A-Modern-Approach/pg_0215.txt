190

Chapter9 Functions

casting » 7.4

PROGRAM

prime.c

 

Testing Whether a Number Is Prime

To see how functions can make programs easier to understand, let’s write a pro-
gram that tests whether a number 1s prime. The program will prompt the user to
enter « number, then respond with a message indicating whether or not the number
Is prime:

Enter a number: 34

Not prime

Instead of putting the prime-lesting details in main. we'll define a separate func-
tion that returns true 1f its parameter 1s a prime number and false if it isn°t.
When given a number n, the is_prime function will divide n by each of the
numbers between 2 and the square root of n: if the remainder is ever 0. we know
that n isn’t prime.

/* Tests whether a number is prime */

#include <stdbool.h> /* C99 only */
Hinclude <stdio.h>

bool is prime (int nD)

(

int divisor;

if (n «= 1)
return false;
for (divisor = 2; divisor * divisor <= n; divisor++)
if (n % divisor == O)
return false;
return true;

}

int main(void)

{

int n;

printf ("Enter a number: ") ;
scanf ("$d", &n) ;
if (is prime(n))
print£ ("Prime\n") ;
else
printf ("Not prime\n") ;
