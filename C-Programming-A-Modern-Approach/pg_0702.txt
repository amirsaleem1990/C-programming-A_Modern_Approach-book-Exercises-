26

26.1

Miscellaneous Library
Functions

Ît is the user who should parametrize
procedures, not their creators.

<stdarg.h>, <stdlib.h>, and <time.h>—the only C89 headers that
weren't covered in previous chapters—are unlike any others in the standard library.
The <stdarg .h> header (Section 26.!) makes it possible to write functions with
a variable number of arguments. <stdlib.h> (Section 26.2) is an assortment of
functions that don t fit into one of the other headers. The <time .h> header (Sec-
tion 26.3) allows programs to work with dates and times.

 

The <stdarg.h> Header: Variable Arguments

type va _ arg(va list ap, rype) ;

void va _ copy(va list dest, va list src);
void va _ end(va list ap);

void va _start (va _ list ap, parmN) ;

Functions such as print£ and scanf have an unusual property: they allow any
number of arguments. The ability to handle a variable number of arguments isn’t
limited to library functions. as it turns out. The <stdarg. h> header provides the
tools we’Il need to write our own functions with variable-length argument lists.
<stdarg.h> declares one type (va_list) and defines several macros. In C89,
there are three macros, named va_start, va_arg, and va_end. which can be
thought of as functions with the prototypes shown above. C99 adds a function-like
macro named va_copy.

677

 
